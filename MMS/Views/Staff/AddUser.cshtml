@model MMS.ViewModels.UserProfileViewModel
@{
	ViewBag.Title = "AddUser";
	Layout = "~/Views/Shared/_Dashboard.cshtml";
}

<h2>@ViewBag.Title</h2>

<div class="row">
	<div class="well">
		@using (Html.BeginForm("Compose", "Messaging", FormMethod.Post, new { @class = "form-horizontal" })) 
		{
			@Html.ValidationSummary(true)
			@Html.Hidden("FromUserId", User.Identity.Name)

			<div class="control-group">
				@Html.LabelFor(p => p.UserProfile.Username, new { @class = "control-label" })
				<div class="controls">
					@Html.TextBoxFor(p => p.UserProfile.Username)
				</div>
			</div>
	  
			<div class="control-group">
				@Html.LabelFor(p => p.Person.FirstName, new { @class = "control-label" })
				<div class="controls">
					@Html.TextBoxFor(p => p.Person.FirstName)
				</div>
			</div>
	  
			<div class="control-group">
				@Html.LabelFor(p => p.Person.LastName, new { @class = "control-label" })
				<div class="controls">
					@Html.TextBoxFor(p => p.Person.LastName)
				</div>
			</div>

			<div class="control-group">
				@Html.LabelFor(p => p.UserRole.id, new { @class = "control-label" })
				<div class="controls">
					@Html.DropDownListFor(p => p.UserRole.id, (IEnumerable<SelectListItem>) ViewBag.UserRoles)
				</div>
			</div>
	  
			<div class="control-group">
				<div class="controls">
					<button type="submit" class="btn btn-primary">Save Changes</button>
					<a href="~/Staff" class="btn">Cancel</a>
				</div>
			</div>	  
		}
	</div>
</div>